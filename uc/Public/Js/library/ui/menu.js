BQ.add("ui.Menu",function(j){function h(b,d){function k(c,e,b){var d=e.cls&&"cls"||e.checkbox!=void 0&&"checkbox"||e.radio!=void 0&&"radio",a=l[d],a=a.replace("%txt%",e.text),a=a.replace("%i%",e.list?"<i></i>":"");switch(d){case "cls":a=a.replace("%cls%",e.cls);break;case "checkbox":a=a.replace(/%checkbox%/g,b+"_"+c);a=a.replace(/<input\s/g,e.checkbox?'<input checked="checked" ':"<input ");break;case "radio":a=a.replace(/%radio%/g,b+"_"+c).replace("%name%",b),a=a.replace(/<input\s/g,e.radio?'<input checked="checked" ':
"<input ")}e.change&&e.change.call(f);e.line&&(a=l.line+a);return a}function i(c,e,b,d){var a=$(e).filter(":not(.line)").eq(b),f=++m;$.each(c,function(b,c){if(d){var g=null;$(a).has(".grid_menu_all_colums").length||$(a).append('<div class="grid_menu_all_colums"><ul></ul></div>');g=g?g:$(">.grid_menu_all_colums>ul",a);g.append(k(b,c,f));c.list&&i(c.list,g.find("li"),b,!0)}else c.list&&i(c.list,e,b,!0)});d||n()}function n(){$("input,a",b).click(function(){var c=$(this).parent();d.click&&d.click.call(f,
{item:c,text:c.find(">a,>label").text(),checkbox:c.find(">input[type=checkbox]"),radio:c.find(">input[type=radio]"),a:c.find(">a"),label:c.find(">label")});if($(this).is("a"))return!1});$("li:not(.line)",b).hover(function(){$(this).addClass("hover");$(">div",this).show()},function(){$(this).removeClass("hover");$(">div",this).hide()})}var f=this;if(!(f instanceof h))return new h(b,j.merge(o,d));f.config=d;f.container=b;var b=$(b),l={cls:'<li class="%cls%">%i%<a href="#">%txt%</a></li>',checkbox:'<li>%i%<input type="checkbox" id="grid_c_%checkbox%"><label for="grid_c_%checkbox%">%txt%</label></li>',
radio:'<li>%i%<input type="radio" id="grid_r_%radio%" name="radio_%name%"><label for="grid_r_%radio%">%txt%</label></li>',line:'<li class="line"></li>'},m=0;(function(){var c="";$.each(d.Data,function(b,d){c+=k(b,d,m).replace("%txt%",d.text)});$(b).html('<div class="grid_menu"><ul>%li%</ul></div>'.replace("%li%",c)).find("li").has("i").addClass("arrow");i(d.Data,$("li",b),0,!1)})()}var o={Data:null,click:null};j.augment(h,{updateView:function(){}});return h});
