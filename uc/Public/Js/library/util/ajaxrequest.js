BQ.add("util.Request",function(f){function g(a){function j(){try{switch(b.readyState){case 4:console.log(444),a.success(k(b.responseText))}}catch(e){}}function l(a,c){if(c&&typeof c=="string")a+=(h.test(a)?"&":"?")+c;else if(c&&typeof c=="object")for(var b in c)a+=(h.test(a)?"&":"?")+b+"="+c[b];return a}function m(){var e={"X-Requested-With":"XMLHttpRequest",Accept:"application/xml, text/xml, text/html, text/javascript, application/javascript, application/json, text/javascript, text/plain, */*","If-Modified-Since":"Thu, 01 Jan 1970 00:00:00 GMT"};
if(a.type=="POST"&&(e["Content-type"]=a.contentType+(a.encoding?"; charset="+a.encoding:""),b.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005))e.Connection="close";for(var c in e)b.setRequestHeader(c,e[c])}function k(a){if(typeof a!=="string"||!a)return null;a=f.trim(a);if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return window.JSON&&
window.JSON.parse?window.JSON.parse(a):(new Function("return "+a))();else f.log("Invalid JSON: "+a)}if(!(this instanceof g))return new g(f.merge(n,a));var b=a.XHR();a.type=a.type.toUpperCase();if(a.dataType==="script"&&a.cache===null)a.cache=!1;if(a.cache===!1&&o.test(a.type)){var d=(new Date).getTime(),i=a.url.replace(p,"$1_="+d);a.url=i+(i===a.url?(h.test(a.url)?"&":"?")+"_="+d:"")}(d=q.exec(a.url))&&(d[1]&&d[1].toLowerCase()!==location.protocol||d[2].toLowerCase());if(b){if(!r.test(a.type))a.type=
"GET";if(a.type=="GET")a.url=l(a.url,a.data);try{b.open(a.type,a.url,a.async),b.onreadystatechange=j,m(),a.data=a.type=="POST"?a.data:null,b.send(a.data)}catch(s){}}else console.log("error")}var n={url:location.href,type:"GET",date:"",timeout:0,contentType:"application/x-www-form-urlencoded",dataType:"",async:!0,global:!0,cache:!1,encoding:"",jsonp:"",jsonpCallBack:"",XHR:window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?function(){return new window.XMLHttpRequest}:
function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){try{return new window.ActiveXObject("msxml2.XMLHTTP")}catch(f){}}},waiting:function(){},error:function(){},success:function(){}};(new Date).getTime();var o=/^(?:GET|HEAD)$/,r=/^(?:GET|POST)$/,h=/\?/,p=/([?&])_=[^&]*/,q=/^(\w+:)?\/\/([^\/?#]+)/;return g});
