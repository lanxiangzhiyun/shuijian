BQ.add("widget.Switchable",function(h,i,j){function c(a,b){b=h.merge(c.Config,b||{});this.container=$(a);this.guid=++k+i;this.myevent={};for(var d in g)this.myevent[d]=g[d]+this.guid;this.config=b;this.activeIndex=b.activeIndex;this._init()}var k=0,g={EVENT_INIT:"init",EVENT_BEFORE_SWITCH:"beforeSwitch",EVENT_SWITCH:"switch"};c.Config={navCls:"wy-switchable-nav",contentCls:"wy-switchable-content",triggers:[],panels:[],hasTriggers:!0,triggerType:"mouse",delay:0.1,activeIndex:0,activeTriggerCls:"current",
switchTo:0,triggerEvent:!1,steps:1,viewSize:[]};c.Plugins=[];h.augment(c,{_init:function(){var a=this,b=a.config;a._parseMarkup();b.hasTriggers&&a._bindTriggers();$.each(c.Plugins,function(b,e){e.init&&e.init(a)});b.switchTo&&a.switchTo(b.switchTo);a.container.trigger(a.myevent.EVENT_INIT)},on:function(a,b){this.container.bind(a+this.guid,function(a,e){b.call(a,e)})},_parseMarkup:function(){var a=this.container,b=this.config,d,e=[],f=[];!b.triggers.length&&!b.panels.length?((d=$("."+b.navCls,a))&&
(e=d.children()),d=$("."+b.contentCls,a),f=d.children()):h.isString(b.panels)?(e=$(b.triggers,a),f=$(b.panels,a)):(e=b.triggers||[],f=b.panels||[]);a=f.length;this.length=a/b.steps;b.hasTriggers&&a>0&&e.length===0&&(e=this._generateTriggersMarkup(this.length));this.triggers=e;this.panels=f;this.content=d||$(f[0]&&f[0].parentNode||e[0]&&e[0].parentNode)},_generateTriggersMarkup:function(a){var b=this.config,d=$("<ul></ul>"),e,f;d.addClass(b.navCls);for(f=0;f<a;f++)e=$("<li></li>"),f===this.activeIndex&&
e.addClass(b.activeTriggerCls),e.html(f+1),d.append(e);this.container.append(d);return d.children()},_bindTriggers:function(){var a=this,b=a.config,d=a.triggers,e,f,c=d.length;for(f=0;f<c;f++)(function(f){e=d[f];$(e).click(function(){a._onFocusTrigger(f);return b.triggerEvent});b.triggerType==="mouse"&&($(e).bind("mouseenter",function(){a._onMouseEnterTrigger(f)}),$(e).bind("mouseleave",function(){a._onMouseLeaveTrigger(f)}))})(f)},_onFocusTrigger:function(a){this._triggerIsValid(a)&&(this._cancelSwitchTimer(),
this.switchTo(a))},_onMouseEnterTrigger:function(a){var b=this;if(b._triggerIsValid(a))b.switchTimer=h.later(function(){b.switchTo(a)},b.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(a){return this.activeIndex!==a},_cancelSwitchTimer:function(){if(this.switchTimer)this.switchTimer.cancel(),this.switchTimer=j},switchTo:function(a,b){var d=this.config,e=this.triggers,f=this.panels,c=this.activeIndex,k=d.steps,g=c*k,h=a*k;if(!this._triggerIsValid(a))return this;
d.hasTriggers&&this._switchTrigger(c>-1?e[c]:null,e[a]);b===j&&(b=a>c?"forward":"backward");this.container.trigger(this.myevent.EVENT_BEFORE_SWITCH,{container:this.container,currentIndex:a});this._switchView(f.slice(g,g+k),f.slice(h,h+k),a,b);this.activeIndex=a;return this},_switchTrigger:function(a,b){var d=this.config.activeTriggerCls;a&&$(a).removeClass(d);$(b).addClass(d)},_switchView:function(a,b,d){$(a).css("display","none");$(b).css("display","block");this._fireOnSwitch(d)},_fireOnSwitch:function(a){this.container.trigger(this.myevent.EVENT_SWITCH,
{container:this.container,currentIndex:a})},prev:function(){var a=this.activeIndex;this.switchTo(a>0?a-1:this.length-1,"backward")},next:function(){var a=this.activeIndex;this.switchTo(a<this.length-1?a+1:0,"forward")}});h.namespace("widget").Switchable=c});
BQ.add("widget.switchable.pulgins.Autoplay",function(h,i,j){h.mix(h.widget.Switchable.Config,{autoplay:!1,interval:5,pauseOnHover:!0});h.widget.Switchable.Plugins.push({name:"autoplay",init:function(c){function k(){b=h.later(function(){c.paused||c.switchTo(c.activeIndex<c.length-1?c.activeIndex+1:0,"forward")},a,!0)}var g=c.config,a=g.interval*1E3,b;g.autoplay&&(g.pauseOnHover&&(c.container.bind("mouseenter",function(){b&&(b.cancel(),b=j);c.paused=!0}),c.container.bind("mouseleave",function(){c.paused=
!1;k()})),k())}})});
BQ.add("widget.switchable.pulgins.Effect",function(h,i,j){var i=h.widget.Switchable,c;h.mix(i.Config,{effect:"none",duration:500,easing:"easeNone"});i.Effects={none:function(c,g,a){$(c).css("display","none");$(g).css("display","block");a()},fade:function(c,g,a){if(c.length!==1)return"\u6de1\u9690\u6de1\u73b0\u6548\u679c \u8981\u6c42 steps == 1";var b=this,d=b.config,e=c[0],f=g[0];b.anim&&b.anim.stop(!0,!0);$(f).css("opacity",1);b.anim=$(e).animate({opacity:0},d.duration,function(){b.anim=j;$(f).css("z-index",
2);$(e).css("z-index",1);a()})},scroll:function(c,g,a,b){var d=this,c=d.config,g=c.effect==="scrollx",e={};e[g?"left":"top"]=-(d.viewSize[g?0:1]*b)+"px";d.anim&&d.anim.stop();d.anim=$(d.content).animate(e,c.duration,function(){d.anim=j;a()})}};c=i.Effects;c.scrollx=c.scrolly=c.scroll;i.Plugins.push({name:"effect",init:function(c){var g=c.config,a=g.effect,b=c.panels,d=c.content,e=g.steps,f=c.activeIndex,h=b.length;c.viewSize=[g.viewSize[0]||b[0].offsetWidth*e,g.viewSize[1]||b[0].offsetHeight*e];if(a!==
"none")switch($.each(b,function(a,b){$(b).css("display","block")}),a){case "scrollx":case "scrolly":$(d).css("position","absolute");$(d).parent().css("position","relative");a==="scrollx"&&(b.css("float","left"),$(d).width(c.viewSize[0]*(h/e)));break;case "fade":var i=f*e,j=i+e-1,l;$(b[0].parentNode).css("position","relative");$.each(b,function(a,b){l=a>=i&&a<=j;$(b).css({opacity:l?1:0,position:"absolute",zIndex:l?2:1})})}}});h.augment(i,{_switchView:function(i,g,a,b){var d=this,e=d.config.effect;
(h.isFunction(e)?e:c[e]).call(d,i,g,function(){d._fireOnSwitch(a)},a,b)}})});
